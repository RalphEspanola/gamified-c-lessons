<script setup>
import LessonSlides from '../LessonSlides/LessonSlides.vue'
import { useLearningProgress } from '@/composables/system/useLearningProgress'
const lessonTitle = 'Lesson 7: Nested Logic and Loop'
const lessonDescription = 'Understanding nested loops in C programming'
const topicId = 3 // Topic
const lessonId = 7 // Lesson
const slides = [
  {
    id: 1,
    title: 'Introduction',
    content: `Imagine cleaning your classroom ðŸ§¹:
You go row by row â€” and within each row, desk by desk.

âœ… That's a loop inside another loop â€”
The outer loop moves through rows,
and the inner loop moves through desks in that row.

That's exactly what a nested loop does in programming!

ðŸ’¡ Nested loops are used when you need to repeat actions inside another repetition, like printing tables, checking grids, or drawing shapes.`,
  },
  {
    id: 2,
    title: 'Concept Explanation',
    content: `A nested loop means one loop inside another loop.
Usually, the outer loop controls rows or groups,
while the inner loop controls columns or details.

Syntax:`,
    code: `for (int i = 1; i <= rows; i++) {         // outer loop
    for (int j = 1; j <= columns; j++) {  // inner loop
        // statements
    }
}`,
    explanation: `ðŸ§© How it works:
â€¢ The outer loop runs once â†’ triggers the inner loop.
â€¢ The inner loop runs completely for each outer loop cycle.
â€¢ When the inner loop finishes, the outer loop continues to its next cycle.`,
  },
  {
    id: 3,
    title: 'Example Program (Multiplication Table)',
    code: `#include <stdio.h>

int main() {
    for (int i = 1; i <= 3; i++) {
        for (int j = 1; j <= 3; j++) {
            printf("%d ", i * j);
        }
        printf("\\n");
    }
    return 0;
}`,
    explanation: `ðŸ’» Output:
1 2 3
2 4 6
3 6 9

ðŸ§  Explanation:
â€¢ The outer loop (i) controls rows.
â€¢ The inner loop (j) multiplies i by j for each column.
â€¢ After printing all columns, a newline (\\n) starts the next row.`,
  },
  {
    id: 4,
    title: 'Check for Understanding (1)',
    quiz: {
      question: 'How many times will the inner loop run in total if both loops go from 1 to 3?',
      options: ['3 times', '6 times', '9 times', '12 times'],
      answer: '9 times',
    },
    explanation: `ðŸ’¬ 3 (outer) Ã— 3 (inner) = 9 total executions.`,
  },
  {
    id: 5,
    title: 'Check for Understanding (2)',
    quiz: {
      question: 'In a nested loop, which loop finishes first?',
      options: ['outer loop', 'inner loop', 'they end together'],
      answer: 'inner loop',
    },
    explanation: `ðŸ’¬ The inner loop repeats fully before the outer loop moves to its next cycle.`,
  },
  {
    id: 6,
    title: 'Guided Example (Star Pattern)',
    content: `Let's create a triangle pattern using nested loops â­`,
    code: `#include <stdio.h>

int main() {
    for (int row = 1; row <= 5; row++) {
        for (int col = 1; col <= row; col++) {
            printf("* ");
        }
        printf("\\n");
    }
    return 0;
}`,
    explanation: `ðŸ’» Output:
*
* *
* * *
* * * *
* * * * *

ðŸ§  Explanation:
â€¢ Outer loop (row) controls the number of lines.
â€¢ Inner loop (col) prints stars equal to the current row number.`,
  },
  {
    id: 7,
    title: 'Quick Practice',
    content: `Fill in the blanks to print a 3Ã—3 grid of # symbols:`,
    code: `for (int i = 1; i <= 3; i++) {
    for (int j = 1; j <= [___]; j++) {
        printf("# ");
    }
    printf("\\n");
}`,
    multipleQuiz: [
      {
        question: 'Fill in the blank:',
        interactive: true,
        blanks: [{ id: 1, answer: '3' }],
        template: 'for (int j = 1; j <= [1]; j++)',
        options: ['3', 'i', 'j', '5'],
      },
    ],
    explanation: `ðŸ’¬ The inner loop prints 3 symbols for each of the 3 outer loop cycles.`,
  },
  {
    id: 8,
    title: 'Deeper Practice / Coding Task',
    content: `Program Title: ðŸ§® Multiplication Table (1 to 5)

Drag and drop the missing parts to complete the nested for loop:`,
    codingTask: {
      blanks: [
        { id: 1, answer: 'for' },
        { id: 2, answer: 'for' },
        { id: 3, answer: 'printf' },
        { id: 4, answer: 'printf' },
      ],
      options: ['for', 'printf', 'while', 'switch', 'for', 'printf'],
      template: `#include <stdio.h>

int main() {
    [1] (int i = 1; i <= 5; i++) {
        [2] (int j = 1; j <= 5; j++) {
            [3]("%d\\t", i * j);
        }
        [4]("\\n");
    }
    return 0;
}`,
      correctCode: `#include <stdio.h>

int main() {
    for (int i = 1; i <= 5; i++) {
        for (int j = 1; j <= 5; j++) {
            printf("%d\\t", i * j);
        }
        printf("\\n");
    }
    return 0;
}`,
    },
  },
  {
    id: 9,
    title: 'Check for Understanding (3)',
    multipleQuiz: [
      {
        question: 'What does the outer loop usually control in a nested loop?',
        interactive: true,
        blanks: [{ id: 1, answer: 'rows or groups' }],
        template: 'Answer: [1]',
        options: ['rows or groups', 'columns or items', 'functions'],
      },
    ],
  },
  {
    id: 10,
    title: 'Lesson Takeaways',
    content: `Key Points to Remember:

â€¢ Nested loops mean a loop inside another loop.
â€¢ The inner loop runs completely for each cycle of the outer loop.
â€¢ Total executions = (outer loop count) Ã— (inner loop count).
â€¢ Common uses: patterns, tables, grids, and 2D data.
â€¢ Loops can contain conditional logic (if statements) for more control â€” that's called nested logic.`,
  },
]
const { completeLesson } = useLearningProgress()
function handleLessonComplete() {
  completeLesson(topicId, lessonId)
}
</script>

<template>
  <LessonSlides
    :lesson-title="lessonTitle"
    :lesson-description="lessonDescription"
    :slides="slides"
    back-route="/"
    complete-route="/"
    @lesson-complete="handleLessonComplete"
  />
</template>
