<script setup>
import LessonSlides from '../LessonSlides/LessonSlides.vue'

const lessonTitle = 'Lesson 1: The While Statement'
const lessonDescription = 'Understanding while loops in C programming'
const topicId = 3 // Topic
const lessonId = 1 // Lesson
const slides = [
  {
    id: 1,
    title: 'Introduction',
    content: `Think of learning something new â€” like riding a bike. You keep trying while you still need practice. Once you learn it, you stop.

A while loop in programming works the same way!

ðŸŒ€ It repeats the same steps while a condition is true.
ðŸ›‘ It stops when the condition is no longer true.`,
  },
  {
    id: 2,
    title: 'What is a While Statement?',
    content: `The while statement is a type of looping control structure in C. It allows you to repeat a block of code as long as a condition remains true.

Syntax:`,
    code: `while (condition) {
    // statements to execute repeatedly
}`,
    explanation: `ðŸ§© Explanation:
â€¢ The condition is checked before the loop runs.
â€¢ If it's true, the statements inside { } execute.
â€¢ After executing, the condition is checked again.
â€¢ The loop stops when the condition becomes false.

ðŸ’¡ Think of it as:
ðŸ‘‰ "Keep doing this while this condition is true."`,
  },
  {
    id: 3,
    title: 'Example Program',
    content: `Let's see a simple C program that uses a while loop ðŸ‘‡`,
    code: `#include <stdio.h>
int main() {
    int count = 1;
    while (count <= 5) {
        printf("%d ", count);
        count++;
    }
    return 0;
}`,
    explanation: `ðŸ§  Step-by-step explanation:
1ï¸âƒ£ The loop starts with count = 1.
2ï¸âƒ£ It checks count <= 5. If true, it runs the code inside { }.
3ï¸âƒ£ Prints the current number.
4ï¸âƒ£ Increases count by 1 (count++).
5ï¸âƒ£ Repeats the check until count becomes 6.
6ï¸âƒ£ Then it stops.

ðŸ–¥ï¸ Output:
1 2 3 4 5`,
  },
  {
    id: 4,
    title: 'Common Mistake: Infinite Loop',
    content: `Be careful! ðŸ˜± If you forget to update your loop variable, your program will never stop.

âŒ Example (Infinite Loop):`,
    code: `int num = 1;
while (num <= 5) {
    printf("%d ", num);
    // forgot num++ here!
}`,
    explanation: `ðŸ’¡ Since num never changes, num <= 5 is always true â€” the loop runs forever.

âœ… Always make sure the condition will eventually become false.`,
  },
  {
    id: 5,
    title: 'Check for Understanding (1)',
    multipleQuiz: [
      {
        question: 'What does the while loop do in C?\nIt repeats code [__________].',
        interactive: true,
        blanks: [{ id: 1, answer: 'as long as a condition is true' }],
        template: 'Answer: [1]',
        options: ['until the program ends', 'as long as a condition is true', 'only one time'],
      },
    ],
  },
  {
    id: 6,
    title: 'Check for Understanding (2)',
    multipleQuiz: [
      {
        question:
          'What happens if the condition is false when the program first reaches the while loop?\nThe statements inside { } are [__________].',
        interactive: true,
        blanks: [{ id: 1, answer: 'skipped' }],
        template: 'Answer: [1]',
        options: ['executed once', 'skipped', 'repeated infinitely'],
      },
    ],
  },
  {
    id: 7,
    title: 'Guided Exercise (How Many Times?)',
    content: `How many times will this loop execute?`,
    code: `int x = 3;
while (x <= 6) {
    printf("%d ", x);
    x++;
}`,
    quiz: {
      question: 'How many times will this loop execute?',
      options: ['2 times', '3 times', '4 times', '5 times'],
      answer: '4 times',
    },
    explanation: `ðŸ’¬ Explanation: The loop runs while x <= 6, starting from x = 3.
âœ… The values printed are 3, 4, 5, and 6 â†’ total of 4 loops.`,
  },
  {
    id: 8,
    title: 'Debug the Error (Find the Mistake)',
    content: `Find and fix the problem in this code:`,
    code: `int i = 1;
while (i <= 3);
{
    printf("%d ", i);
    i++;
}`,
    quiz: {
      question: 'What is wrong with this code?',
      options: [
        'Missing semicolon',
        'Extra semicolon after while',
        'Condition is wrong',
        'Needs another variable',
      ],
      answer: 'Extra semicolon after while',
    },
    explanation: `ðŸ’¬ Explanation: The semicolon (;) after the while condition ends the loop early.

âœ… Correct version:
\`\`\`c
while (i <= 3) {
    printf("%d ", i);
    i++;
}
\`\`\``,
  },
  {
    id: 9,
    title: 'Check for Understanding (3)',
    multipleQuiz: [
      {
        question: 'Which part of the loop ensures that it eventually stops?',
        interactive: true,
        blanks: [{ id: 1, answer: 'the update statement' }],
        template: 'Answer: [1]',
        options: ['the update statement', 'the print statement', 'the variable declaration'],
      },
    ],
  },
  {
    id: 10,
    title: 'Lesson Takeaways',
    content: `Key Points to Remember:

â€¢ The while statement repeats a block of code while a condition is true.
â€¢ The condition is checked before each repetition.
â€¢ If it's false from the start, the loop body won't run.
â€¢ Always include an update statement to avoid infinite loops.
â€¢ Used when the number of repetitions is unknown ahead of time.`,
  },
]
</script>

<template>
  <LessonSlides
    :lesson-title="lessonTitle"
    :lesson-description="lessonDescription"
    :slides="slides"
    :topic-id="topicId"
    :lesson-id="lessonId"
    back-route="/"
    complete-route="/"
    @lesson-complete="handleLessonComplete"
  />
</template>
