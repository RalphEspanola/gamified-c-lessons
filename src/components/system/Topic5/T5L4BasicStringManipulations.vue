<script setup>
import LessonSlides from '../LessonSlides/LessonSlides.vue'

const lessonTitle = 'Lesson 4: Basic String Manipulations and Functions'
const lessonDescription = 'Mastering string manipulation functions in C'
const topicId = 5 // Topic
const lessonId = 4 // Lesson
const slides = [
  {
    id: 1,
    title: 'Introduction',
    content: `Imagine using your phone to edit a contact name üì±.
You might:
‚úèÔ∏è Type a new name (copy)
‚ûï Add a last name (concatenate)
üî¢ Count the letters (length)
‚öñÔ∏è Compare two names to see if they match (compare)

üí° In programming, these are all examples of string manipulations ‚Äî
changing or working with text stored in character arrays!`,
  },
  {
    id: 2,
    title: 'Concept Explanation (What Is String Manipulation?)',
    content: `String manipulation means modifying, analyzing, or comparing strings to perform useful operations.

üß© Common operations include:
‚Ä¢ Finding length ‚Üí strlen()
‚Ä¢ Copying ‚Üí strcpy()
‚Ä¢ Joining ‚Üí strcat()
‚Ä¢ Comparing ‚Üí strcmp()

All these functions are found in <string.h>.`,
  },
  {
    id: 3,
    title: 'Function 1: strlen() ‚Äì Find String Length',
    content: [
      {
        type: 'text',
        value: `Finds the number of characters in a string (excluding \\0).`,
      },
      {
        type: 'code',
        value: `#include <stdio.h>
#include <string.h>

int main() {
    char city[] = "Cebu";
    printf("Length: %lu", strlen(city));
    return 0;
}`,
      },
      {
        type: 'text',
        value: `üß† Output:
Length: 4

üí¨ Explanation:
‚Ä¢ "Cebu" has 4 characters.
‚Ä¢ strlen() returns the length as an unsigned long value.
‚Ä¢ We use %lu in printf() because:
  ‚Ä¢ %l means "long"
  ‚Ä¢ %u means "unsigned integer"
‚úÖ In short: %lu correctly prints the number returned by strlen().`,
      },
    ],
  },
  {
    id: 4,
    title: 'Function 2: strcpy() ‚Äì Copy One String to Another',
    content: [
      {
        type: 'text',
        value: `Copies the contents of one string into another.`,
      },
      {
        type: 'code',
        value: `#include <stdio.h>
#include <string.h>

int main() {
    char source[] = "Hello";
    char destination[20];
    strcpy(destination, source);
    printf("%s", destination);
    return 0;
}`,
      },
      {
        type: 'text',
        value: `üß† Output:
Hello

üí¨ Explanation:
‚Ä¢ strcpy(destination, source) ‚Üí copies everything from source into destination.
‚Ä¢ The destination array must be large enough to hold the copied string.`,
      },
    ],
  },
  {
    id: 5,
    title: 'Function 3: strcat() ‚Äì Join Two Strings',
    content: [
      {
        type: 'text',
        value: `Joins (concatenates) one string to the end of another.`,
      },
      {
        type: 'code',
        value: `#include <stdio.h>
#include <string.h>

int main() {
    char first[20] = "Good";
    char second[] = "Evening";
    strcat(first, second);
    printf("%s", first);
    return 0;
}`,
      },
      {
        type: 'text',
        value: `üß† Output:
GoodEvening

üí¨ Explanation:
‚Ä¢ strcat(first, second) ‚Üí adds the second string to the end of the first one.
‚Ä¢ If you want a space in between, write "Good " instead of "Good".`,
      },
    ],
  },
  {
    id: 6,
    title: 'Function 4: strcmp() ‚Äì Compare Two Strings',
    content: [
      {
        type: 'text',
        value: `Compares two strings character by character.`,
      },
      {
        type: 'code',
        value: `#include <stdio.h>
#include <string.h>

int main() {
    char password1[] = "admin";
    char password2[] = "Admin";

    if (strcmp(password1, password2) == 0)
        printf("Match!");
    else
        printf("Not Match!");
    return 0;
}`,
      },
      {
        type: 'text',
        value: `üß† Output:
Not Match!

üí¨ Explanation:
‚Ä¢ strcmp(a, b) returns 0 if strings are the same.
‚Ä¢ Returns a nonzero value if they are different.
‚Ä¢ It is case-sensitive, so "admin" ‚â† "Admin".`,
      },
    ],
  },
  {
    id: 7,
    title: 'Check for Understanding (1)',
    quiz: {
      question: 'Which function is used to combine two strings?',
      options: ['strcat()', 'strcpy()', 'strlen()', 'strcmp()'],
      answer: 'strcat()',
    },
  },
  {
    id: 8,
    title: 'Check for Understanding (2)',
    quiz: {
      question: 'What does strcmp() return when two strings are exactly the same?',
      options: ['0', '1', '-1'],
      answer: '0',
    },
  },
  {
    id: 9,
    title: 'Quick Practice (Fill in the Blanks)',
    content: `Fill in the blanks to copy a string and display it.`,
    code: `#include <stdio.h>
#include <string.h>

int main() {
    char name1[] = "Alex";
    char name2[20];
    [_____](name2, name1);
    printf("%s", name2);
    return 0;
}`,
    multipleQuiz: [
      {
        question: 'Fill in the blank:',
        interactive: true,
        blanks: [{ id: 1, answer: 'strcpy' }],
        template: '[1](name2, name1);',
        options: ['strcat', 'strcpy', 'strcmp'],
      },
    ],
    explanation: `üß† Output: Alex`,
  },
  {
    id: 10,
    title: 'Deeper Practice / Coding Task',
    content: `Complete the missing parts to join and print two words.`,
    codingTask: {
      blanks: [{ id: 1, answer: 'strcat' }],
      options: ['strcat', 'strlen', 'strcmp'],
      template: `#include <stdio.h>
#include <string.h>

int main() {
    char word1[20] = "C";
    char word2[] = "Programming";

    [1](word1, word2);
    printf("%s", word1);
    return 0;
}`,
      correctCode: `#include <stdio.h>
#include <string.h>

int main() {
    char word1[20] = "C";
    char word2[] = "Programming";

    strcat(word1, word2);
    printf("%s", word1);
    return 0;
}`,
    },
    explanation: `üß† Output: CProgramming`,
  },
  {
    id: 11,
    title: 'Common Mistake Alert ‚ö†Ô∏è',
    content: `If the destination array isn't large enough to hold the result of strcpy() or strcat(),
your program might crash or behave unpredictably.

üí° Always make sure your destination array is big enough to store the entire string plus the \\0 character!`,
  },
  {
    id: 12,
    title: 'Lesson Takeaways',
    content: `üß† What You Learned:

‚Ä¢ String manipulation allows you to modify and process text easily.
‚Ä¢ All string functions come from <string.h>.
‚Ä¢ Common functions:
  ‚Ä¢ strlen() ‚Üí counts the length of a string
  ‚Ä¢ strcpy() ‚Üí copies one string into another
  ‚Ä¢ strcat() ‚Üí joins two strings
  ‚Ä¢ strcmp() ‚Üí compares two strings
‚Ä¢ strcmp() returns 0 if the strings are equal.
‚Ä¢ Use %lu when printing results of strlen() because it returns an unsigned long.
‚Ä¢ Always allocate enough memory for destination arrays.`,
  },
]
</script>

<template>
  <LessonSlides
    :lesson-title="lessonTitle"
    :lesson-description="lessonDescription"
    :slides="slides"
    :topic-id="topicId"
    :lesson-id="lessonId"
    back-route="/"
    complete-route="/"
    @lesson-complete="handleLessonComplete"
  />
</template>
